<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>topicnet.tests.test_intratext_coherence_score API documentation</title>
<meta name="description" content="">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>topicnet.tests.test_intratext_coherence_score</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="topicnet.tests.test_intratext_coherence_score.MockModel"><code class="flex name class">
<span>class <span class="ident">MockModel</span></span>
<span>(</span><span>phi)</span>
</code></dt>
<dd>
<div class="desc"><p>Initialize stage, also used for loading previously saved experiments.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>model_id</code></strong> :&ensp;<code>str</code></dt>
<dd>model id (Default value = None)</dd>
<dt><strong><code>parent_model_id</code></strong> :&ensp;<code>str</code></dt>
<dd>model id from which current model was created (Default value = None)</dd>
<dt><strong><code>experiment</code></strong> :&ensp;<code>Experiment</code></dt>
<dd>the experiment to which the model is bound (Default value = None)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MockModel(BaseModel):
    def __init__(self, phi):
        self._phi = phi

    def get_phi(self):
        return self._phi.copy()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="topicnet.cooking_machine.models.base_model.BaseModel" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel">BaseModel</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="topicnet.tests.test_intratext_coherence_score.MockModel.get_phi"><code class="name flex">
<span>def <span class="ident">get_phi</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="topicnet.cooking_machine.models.base_model.BaseModel" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel">BaseModel</a></b></code>:
<ul class="hlist">
<li><code><a title="topicnet.cooking_machine.models.base_model.BaseModel.add_cube" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel.add_cube">add_cube</a></code></li>
<li><code><a title="topicnet.cooking_machine.models.base_model.BaseModel.depth" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel.depth">depth</a></code></li>
<li><code><a title="topicnet.cooking_machine.models.base_model.BaseModel.get_parameters" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel.get_parameters">get_parameters</a></code></li>
<li><code><a title="topicnet.cooking_machine.models.base_model.BaseModel.get_theta" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel.get_theta">get_theta</a></code></li>
<li><code><a title="topicnet.cooking_machine.models.base_model.BaseModel.load" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel.load">load</a></code></li>
<li><code><a title="topicnet.cooking_machine.models.base_model.BaseModel.save" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel.save">save</a></code></li>
<li><code><a title="topicnet.cooking_machine.models.base_model.BaseModel.save_parameters" href="../cooking_machine/models/base_model.html#topicnet.cooking_machine.models.base_model.BaseModel.save_parameters">save_parameters</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore"><code class="flex name class">
<span>class <span class="ident">TestIntratextCoherenceScore</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class TestIntratextCoherenceScore:
    topics = [&#39;topic_1&#39;, &#39;topic_2&#39;, &#39;topic_3&#39;]
    documents = [&#39;doc_1&#39;, &#39;doc_2&#39;, &#39;doc_3&#39;]
    topic_documents = {
        &#39;topic_1&#39;: [&#39;doc_1&#39;, &#39;doc_2&#39;],
        &#39;topic_2&#39;: [&#39;doc_3&#39;],
        &#39;topic_3&#39;: []
    }
    best_topic = &#39;topic_1&#39;
    out_of_documents_topic = &#39;topic_3&#39;
    document_topics = {
        &#39;doc_1&#39;: [&#39;topic_1&#39;, &#39;topic_2&#39;],
        &#39;doc_2&#39;: [&#39;topic_1&#39;],
        &#39;doc_3&#39;: [&#39;topic_1&#39;, &#39;topic_2&#39;]
    }
    top_words = {
        topic: [f&#39;{topic}_word_{i}&#39; for i in range(1, NUM_TOP_WORDS + 1)]
        for topic in topics
    }
    vocabulary = list(reduce(lambda res, cur: res + cur, top_words.values(), []))
    out_of_topics_word = &#39;unknown_word&#39;

    data_folder_path = None
    model = None
    dataset = None
    dataset_file_path = None

    @classmethod
    def setup_class(cls):
        cls.model = MockModel(cls.create_phi())

        document_words = cls.create_documents()
        dataset_table = cls.create_dataset_table(document_words)

        cls.data_folder_path = tempfile.mkdtemp()

        cls.dataset_file_path = os.path.join(cls.data_folder_path, DATASET_FILE_NAME)
        dataset_table.to_csv(cls.dataset_file_path)

        cls.dataset = Dataset(cls.dataset_file_path)

    @classmethod
    def teardown_class(cls):
        shutil.rmtree(cls.data_folder_path)

    @classmethod
    def create_phi(cls) -&gt; pd.DataFrame:
        phi = pd.DataFrame(
            index=[(DEFAULT_ARTM_MODALITY, w) for w in cls.vocabulary],
            columns=cls.topics,
            data=np.random.random((len(cls.vocabulary), len(cls.topics)))
        )

        for t in cls.topics:
            phi.loc[[(DEFAULT_ARTM_MODALITY, w)
                     for w in cls.top_words[t]], t] = 1.0

            phi.loc[[(DEFAULT_ARTM_MODALITY, w)
                     for w in cls.vocabulary
                     if w not in cls.top_words[t]], t] = 1.0 / TOP_WORD_PROBABILITY_TIMES_BIGGER

        phi[cls.out_of_documents_topic] = 1.0  # so as next line works fine
        phi[:] = phi.values / np.sum(phi.values, axis=0, keepdims=True)
        phi[cls.out_of_documents_topic] = 0.0  # and now exclude all the words from the topic

        phi.index = pd.MultiIndex.from_tuples(
            phi.index, names=(&#39;modality&#39;, &#39;token&#39;))  # TODO: copy-paste from TopicModel

        return phi

    @classmethod
    def create_documents(cls) -&gt; Dict[str, List[str]]:
        def get_segments(
                topic: str, other_topics: List[str], top_words: Dict[str, List[str]]
        ) -&gt; List[List[str]]:

            num_words = 0
            segments = []
            is_main_topic = True
            is_out_of_topics_word_included = False

            while num_words &lt; DOCUMENT_LENGTH:
                if len(other_topics) == 0:
                    is_main_topic = True

                if is_main_topic:
                    current_topic = topic
                    current_segment_length = BIG_SEGMENT_LENGTH

                else:
                    current_topic = np.random.choice(other_topics)
                    current_segment_length = np.random.choice(
                        SMALL_SEGMENT_LENGTHS,
                        p=SMALL_SEGMENT_LENGTH_PROBABILITIES
                    )

                segment = np.random.choice(
                    top_words[current_topic],
                    current_segment_length
                )
                segment = segment.tolist()

                if not is_out_of_topics_word_included:
                    segment += [cls.out_of_topics_word]
                    is_out_of_topics_word_included = True

                is_main_topic = not is_main_topic

                num_words += len(segment)
                segments.append(segment)

            return segments

        document_words = defaultdict(list)

        for t, docs in cls.topic_documents.items():
            all_other_topics = list(set(cls.topic_documents.keys()).difference([t]))

            for doc in docs:
                other_topics = list(set(all_other_topics).intersection(
                    cls.document_topics[doc]
                ))

                document_words[doc] = list(reduce(
                    lambda res, cur: res + cur,
                    get_segments(t, other_topics, cls.top_words),
                    []
                ))

        return document_words

    @classmethod
    def create_dataset_table(cls, document_words: Dict[str, List[str]]):
        return pd.DataFrame(
            index=cls.documents,
            columns=[&#39;id&#39;, &#39;raw_text&#39;, &#39;vw_text&#39;],
            data=[
                [doc, cls.get_raw_text(doc, document_words), cls.get_vw_text(doc, document_words)]
                for doc in cls.documents
            ]
        )

    @classmethod
    def get_raw_text(cls, doc: str, document_words: Dict[str, List[str]]) -&gt; str:
        return &#39; &#39;.join(document_words[doc])

    @classmethod
    def get_vw_text(cls, doc: str, document_words: Dict[str, List[str]]) -&gt; str:
        return doc + &#39; &#39; + &#39; &#39;.join(document_words[doc])

    def smoke_check_compute_coherence(
            self,
            text_type,
            computation_method,
            word_topic_relatedness,
            specificity_estimation):

        score = IntratextCoherenceScore(
            self.dataset,
            text_type=text_type,
            computation_method=computation_method,
            word_topic_relatedness=word_topic_relatedness,
            specificity_estimation=specificity_estimation
        )

        coherences = score.compute(self.model)
        coherence_values = list(coherences.values())
        maximum_coherence = max(c for c in coherence_values if c is not None)

        assert coherences[self.best_topic] == maximum_coherence,\
            &#39;Topic that expected to be best doesn\&#39;t have max coherence&#39;

        assert coherences[self.out_of_documents_topic] is None,\
            &#39;Topic that is not in any document has coherence other than None&#39;

    def check_call(
            self,
            text_type,
            computation_method,
            word_topic_relatedness,
            specificity_estimation,
            documents=None):

        score = IntratextCoherenceScore(
            self.dataset,
            documents=documents,
            text_type=text_type,
            computation_method=computation_method,
            word_topic_relatedness=word_topic_relatedness,
            specificity_estimation=specificity_estimation
        )

        value = score.call(self.model)

        assert isinstance(value, float), f&#39;Wrong score value type {type(value)}&#39;

    @pytest.mark.parametrize(
        &#39;text_type, computation_method, word_topic_relatedness, specificity_estimation&#39;,
        list(product(
            [TextType.VW_TEXT, TextType.RAW_TEXT],
            [ComputationMethod.SEGMENT_LENGTH, ComputationMethod.SEGMENT_WEIGHT,
             ComputationMethod.SUM_OVER_WINDOW],
            [WordTopicRelatednessType.PWT, WordTopicRelatednessType.PTW],
            [SpecificityEstimationMethod.NONE, SpecificityEstimationMethod.MAXIMUM,
             SpecificityEstimationMethod.AVERAGE]
        ))
    )
    def test_smoke_compute_coherence(
            self, text_type, computation_method, word_topic_relatedness, specificity_estimation):

        self.smoke_check_compute_coherence(
            text_type, computation_method, word_topic_relatedness, specificity_estimation
        )

    @pytest.mark.parametrize(
        &#39;text_type, computation_method, word_topic_relatedness, specificity_estimation&#39;,
        list(product(
            [TextType.VW_TEXT, TextType.RAW_TEXT],
            [ComputationMethod.SEGMENT_LENGTH, ComputationMethod.SEGMENT_WEIGHT,
             ComputationMethod.SUM_OVER_WINDOW],
            [WordTopicRelatednessType.PWT, WordTopicRelatednessType.PTW],
            [SpecificityEstimationMethod.NONE, SpecificityEstimationMethod.MAXIMUM,
             SpecificityEstimationMethod.AVERAGE]
        ))
    )
    def test_smoke_call(
            self, text_type, computation_method, word_topic_relatedness, specificity_estimation):

        self.check_call(
            text_type, computation_method, word_topic_relatedness, specificity_estimation
        )

    def test_freeze(self):
        score = IntratextCoherenceScore(
            self.dataset,
            documents=self.documents,
            text_type=TextType.VW_TEXT,
            computation_method=ComputationMethod.SEGMENT_LENGTH,
            word_topic_relatedness=WordTopicRelatednessType.PWT,
            specificity_estimation=SpecificityEstimationMethod.NONE
        )

        frozen_score = FrozenScore(score.value, score)

        for attribute_name in [
                &#39;value&#39;,
                &#39;_text_type&#39;,
                &#39;_computation_method&#39;,
                &#39;_word_topic_relatedness&#39;,
                &#39;_specificity_estimation_method&#39;,
                &#39;_max_num_out_of_topic_words&#39;,
                &#39;_window&#39;]:

            assert hasattr(frozen_score, attribute_name)
            assert getattr(frozen_score, attribute_name) == getattr(score, attribute_name)

    @pytest.mark.parametrize(
        &#39;text_type, computation_method, word_topic_relatedness, specificity_estimation&#39;,
        list(product(
            [TextType.VW_TEXT, TextType.RAW_TEXT],
            [ComputationMethod.SEGMENT_LENGTH, ComputationMethod.SEGMENT_WEIGHT,
             ComputationMethod.SUM_OVER_WINDOW],
            [WordTopicRelatednessType.PWT, WordTopicRelatednessType.PTW],
            [SpecificityEstimationMethod.NONE, SpecificityEstimationMethod.MAXIMUM,
             SpecificityEstimationMethod.AVERAGE]
        ))
    )
    @pytest.mark.parametrize(
        &#39;what_documents&#39;,
        [&#39;first&#39;, &#39;all&#39;, &#39;empty&#39;, &#39;none&#39;]
    )
    def test_call_with_specified_documents(
            self, text_type, computation_method, word_topic_relatedness, specificity_estimation,
            what_documents):

        if what_documents == &#39;first&#39;:
            documents = [self.documents[0]]
        elif what_documents == &#39;all&#39;:
            documents = self.documents
        elif what_documents == &#39;empty&#39;:
            documents = list()
        elif what_documents == &#39;none&#39;:
            documents = None
        else:
            raise ValueError(f&#39;{what_documents}&#39;)

        self.check_call(
            text_type,
            computation_method,
            word_topic_relatedness,
            specificity_estimation,
            documents
        )

    @pytest.mark.parametrize(
        &#39;keep_dataset, low_memory, num_background_topics&#39;,
        [(False, False, 0), (True, True, 1)]
    )
    def test_recipe(self, keep_dataset, low_memory, num_background_topics):
        pipeline = IntratextCoherenceRecipe()

        _ = pipeline.format_recipe(
            modalities=[DEFAULT_ARTM_MODALITY],
            main_modality=DEFAULT_ARTM_MODALITY,
            dataset_path=self.dataset_file_path,
            keep_dataset_in_memory=True,
            keep_dataset=keep_dataset,
            documents_fraction=1.0,
            num_specific_topics=len(self.topics) - 1,
            num_background_topics=num_background_topics,
            one_stage_num_iter=2,
            verbose=False,
        )
        experiment, dataset = pipeline.build_experiment_environment(
            experiment_id=(
                f&#39;experiment_maximize_intratext&#39;
                f&#39;__{keep_dataset}&#39;
                f&#39;__{low_memory}&#39;
            ),
            save_path=self.data_folder_path,
        )

        experiment._low_memory = low_memory  # TODO: add some better test for low_memory?
        experiment.run(dataset)

        score_name = &#39;IntratextCoherenceScore&#39;

        best_model = None
        levels = range(1, len(experiment.cubes) + 1)

        # TODO: probably need such method in Experiment?
        #  (i.e. &#34;select best of all&#34;, not only on level=level)
        for level in levels:
            best_model_candidates = experiment.select(
                f&#39;{score_name} -&gt; max&#39;,
                level=level
            )

            if len(best_model_candidates) == 0:
                continue

            best_model_candidate = best_model_candidates[0]

            if (best_model is None or
                    best_model.scores[score_name][-1] &lt;
                    best_model_candidate.scores[score_name][-1]):

                best_model = best_model_candidate

        models_to_compare_with = [
            m for m in experiment.models.values()
            if len(m.scores[score_name]) &gt; 0
        ]

        assert all([
            m.scores[score_name][-1] &lt;= best_model.scores[score_name][-1]
            for m in models_to_compare_with
        ])
        assert any([
            m.scores[score_name][-1] &lt; best_model.scores[score_name][-1]
            for m in models_to_compare_with
        ])</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.best_topic"><code class="name">var <span class="ident">best_topic</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.data_folder_path"><code class="name">var <span class="ident">data_folder_path</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.dataset"><code class="name">var <span class="ident">dataset</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.dataset_file_path"><code class="name">var <span class="ident">dataset_file_path</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.document_topics"><code class="name">var <span class="ident">document_topics</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.documents"><code class="name">var <span class="ident">documents</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.model"><code class="name">var <span class="ident">model</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.out_of_documents_topic"><code class="name">var <span class="ident">out_of_documents_topic</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.out_of_topics_word"><code class="name">var <span class="ident">out_of_topics_word</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.top_words"><code class="name">var <span class="ident">top_words</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.topic_documents"><code class="name">var <span class="ident">topic_documents</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.topics"><code class="name">var <span class="ident">topics</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.vocabulary"><code class="name">var <span class="ident">vocabulary</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_dataset_table"><code class="name flex">
<span>def <span class="ident">create_dataset_table</span></span>(<span>document_words: Dict[str, List[str]])</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_documents"><code class="name flex">
<span>def <span class="ident">create_documents</span></span>(<span>) ‑> Dict[str, List[str]]</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_phi"><code class="name flex">
<span>def <span class="ident">create_phi</span></span>(<span>) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.get_raw_text"><code class="name flex">
<span>def <span class="ident">get_raw_text</span></span>(<span>doc: str, document_words: Dict[str, List[str]]) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.get_vw_text"><code class="name flex">
<span>def <span class="ident">get_vw_text</span></span>(<span>doc: str, document_words: Dict[str, List[str]]) ‑> str</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.setup_class"><code class="name flex">
<span>def <span class="ident">setup_class</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.teardown_class"><code class="name flex">
<span>def <span class="ident">teardown_class</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.check_call"><code class="name flex">
<span>def <span class="ident">check_call</span></span>(<span>self, text_type, computation_method, word_topic_relatedness, specificity_estimation, documents=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.smoke_check_compute_coherence"><code class="name flex">
<span>def <span class="ident">smoke_check_compute_coherence</span></span>(<span>self, text_type, computation_method, word_topic_relatedness, specificity_estimation)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_call_with_specified_documents"><code class="name flex">
<span>def <span class="ident">test_call_with_specified_documents</span></span>(<span>self, text_type, computation_method, word_topic_relatedness, specificity_estimation, what_documents)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_freeze"><code class="name flex">
<span>def <span class="ident">test_freeze</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_recipe"><code class="name flex">
<span>def <span class="ident">test_recipe</span></span>(<span>self, keep_dataset, low_memory, num_background_topics)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_smoke_call"><code class="name flex">
<span>def <span class="ident">test_smoke_call</span></span>(<span>self, text_type, computation_method, word_topic_relatedness, specificity_estimation)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_smoke_compute_coherence"><code class="name flex">
<span>def <span class="ident">test_smoke_compute_coherence</span></span>(<span>self, text_type, computation_method, word_topic_relatedness, specificity_estimation)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="topicnet.tests" href="index.html">topicnet.tests</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="topicnet.tests.test_intratext_coherence_score.MockModel" href="#topicnet.tests.test_intratext_coherence_score.MockModel">MockModel</a></code></h4>
<ul class="">
<li><code><a title="topicnet.tests.test_intratext_coherence_score.MockModel.get_phi" href="#topicnet.tests.test_intratext_coherence_score.MockModel.get_phi">get_phi</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore">TestIntratextCoherenceScore</a></code></h4>
<ul class="">
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.best_topic" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.best_topic">best_topic</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.check_call" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.check_call">check_call</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_dataset_table" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_dataset_table">create_dataset_table</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_documents" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_documents">create_documents</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_phi" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.create_phi">create_phi</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.data_folder_path" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.data_folder_path">data_folder_path</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.dataset" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.dataset">dataset</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.dataset_file_path" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.dataset_file_path">dataset_file_path</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.document_topics" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.document_topics">document_topics</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.documents" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.documents">documents</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.get_raw_text" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.get_raw_text">get_raw_text</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.get_vw_text" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.get_vw_text">get_vw_text</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.model" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.model">model</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.out_of_documents_topic" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.out_of_documents_topic">out_of_documents_topic</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.out_of_topics_word" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.out_of_topics_word">out_of_topics_word</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.setup_class" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.setup_class">setup_class</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.smoke_check_compute_coherence" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.smoke_check_compute_coherence">smoke_check_compute_coherence</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.teardown_class" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.teardown_class">teardown_class</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_call_with_specified_documents" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_call_with_specified_documents">test_call_with_specified_documents</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_freeze" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_freeze">test_freeze</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_recipe" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_recipe">test_recipe</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_smoke_call" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_smoke_call">test_smoke_call</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_smoke_compute_coherence" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.test_smoke_compute_coherence">test_smoke_compute_coherence</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.top_words" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.top_words">top_words</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.topic_documents" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.topic_documents">topic_documents</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.topics" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.topics">topics</a></code></li>
<li><code><a title="topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.vocabulary" href="#topicnet.tests.test_intratext_coherence_score.TestIntratextCoherenceScore.vocabulary">vocabulary</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
